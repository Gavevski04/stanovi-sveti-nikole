<!DOCTYPE html>
<html lang="mk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°—Ç–∞–Ω–æ–≤–∏ –≤–æ –°–≤–µ—Ç–∏ –ù–∏–∫–æ–ª–µ</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
<h1>–°—Ç–∞–Ω–æ–≤–∏ –≤–æ –°–≤–µ—Ç–∏ –ù–∏–∫–æ–ª–µ</h1>
</header>

<section class="filter">
    <label>–¶–µ–Ω–∞ –¥–æ: <input type="number" id="priceFilter"></label>
    <label>–ö–≤–∞–¥—Ä–∞—Ç—É—Ä–∞ –¥–æ: <input type="number" id="areaFilter"></label>
    <label>–õ–æ–∫–∞—Ü–∏—ò–∞:
        <select id="locationFilter">
            <option value="">–°–∏—Ç–µ</option>
            <option value="–¶–µ–Ω—Ç–∞—Ä">–¶–µ–Ω—Ç–∞—Ä</option>
            <option value="–ö–∞—Ä—à–∏ –û–ø—à—Ç–∏–Ω–∞">–ö–∞—Ä—à–∏ –û–ø—à—Ç–∏–Ω–∞</option>
            <option value="–ù–æ–≤–æ –ù–∞—Å–µ–ª–±–∞">–ù–æ–≤–æ –ù–∞—Å–µ–ª–±–∞</option>
            <option value="–°—Ç–∞—Ä –¶–µ–Ω—Ç–∞—Ä">–°—Ç–∞—Ä –¶–µ–Ω—Ç–∞—Ä</option>
        </select>
    </label>
    <button onclick="applyFilter()">–§–∏–ª—Ç—Ä–∏—Ä–∞—ò üîç</button>
</section>

<div class="stan-container" id="stanContainer"></div>
<div class="pagination" id="pagination"></div>

<!-- –ì–∞–ª–µ—Ä–∏—ò–∞ –ú–æ–¥–∞–ª -->
<div id="galleryModal" class="modal">
    <span class="close" onclick="closeGallery()">&times;</span>
    <img class="modal-content" id="modalImage">
    <a class="prev" onclick="changeImage(-1)">&#10094;</a>
    <a class="next" onclick="changeImage(1)">&#10095;</a>
    <div class="thumbnails" id="thumbnails"></div>
</div>

<section class="contact-section">
<h2>–ö–æ–Ω—Ç–∞–∫—Ç —Ñ–æ—Ä–º–∞</h2>
<form class="contact-form">
    <input type="text" name="name" placeholder="–ò–º–µ" required>
    <input type="email" name="email" placeholder="Email" required>
    <textarea name="message" placeholder="–í–∞—à–∞—Ç–∞ –ø–æ—Ä–∞–∫–∞" required></textarea>
    <button type="submit">–ò—Å–ø—Ä–∞—Ç–∏ üìã</button>
</form>
</section>

<footer>
<p>¬© 2026 –°—Ç–∞–Ω–æ–≤–∏ –≤–æ –°–≤–µ—Ç–∏ –ù–∏–∫–æ–ª–µ</p>
<div class="social-icons">
    <a href="#"><img src="images/facebook.png" alt="FB"></a>
    <a href="#"><img src="images/instagram.jpg" alt="IG"></a>
</div>
</footer>

<script>
// –°–∏—Ç–µ —Å—Ç–∞–Ω–æ–≤–∏
const allStans = [
    {title:"–°—Ç–∞–Ω 60m¬≤", price:900, area:60, location:"–¶–µ–Ω—Ç–∞—Ä", images:["images/stan1.png","images/stan1-2.jpg","images/stan1-3.jpg"], desc:"–û–≤–æ—ò —Å—Ç–∞–Ω –µ –≤–æ —Ü–µ–Ω—Ç–∞—Ä–æ—Ç, —Å–æ –æ–¥–ª–∏—á–Ω–∞ –ª–æ–∫–∞—Ü–∏—ò–∞ –∏ –±–ª–∏–∑—É –¥–æ —Å–∏—Ç–µ —É—Å–ª—É–≥–∏."},
    {title:"–°—Ç–∞–Ω 75m¬≤", price:1100, area:75, location:"–ö–∞—Ä—à–∏ –û–ø—à—Ç–∏–Ω–∞", images:["images/stan2.jpg","images/stan2-2.jpg","images/stan2-3.jpg"], desc:"–°—Ç–∞–Ω —Å–æ –ø–æ–≥–æ–ª–µ–º–∞ –ø–æ–≤—Ä—à–∏–Ω–∞, –∏–¥–µ–∞–ª–µ–Ω –∑–∞ —Å–µ–º–µ—ò—Å—Ç–≤–æ."},
    {title:"–°—Ç–∞–Ω 90m¬≤", price:1300, area:90, location:"–ù–æ–≤–æ –ù–∞—Å–µ–ª–±–∞", images:["images/stan3.jpg","images/stan3-2.jpg","images/stan3-3.jpg"], desc:"–ì–æ–ª–µ–º —Å—Ç–∞–Ω —Å–æ —Å–≤–µ—Ç–ª–∏ –ø—Ä–æ—Å—Ç–æ—Ä–∏–∏ –∏ –º–æ–¥–µ—Ä–Ω–∞ –æ–ø—Ä–µ–º–∞."},
    {title:"–°—Ç–∞–Ω 55m¬≤", price:850, area:55, location:"–°—Ç–∞—Ä –¶–µ–Ω—Ç–∞—Ä", images:["images/stan4.jpg","images/stan4-2.jpg","images/stan4-3.jpg"], desc:"–ö–æ–º–ø–∞–∫—Ç–µ–Ω —Å—Ç–∞–Ω –≤–æ –∏—Å—Ç–æ—Ä–∏—Å–∫–∏ –¥–µ–ª –æ–¥ –≥—Ä–∞–¥–æ—Ç."},
    {title:"–°—Ç–∞–Ω 65m¬≤", price:950, area:65, location:"–¶–µ–Ω—Ç–∞—Ä", images:["images/stan5.jpg","images/stan5-2.jpg"], desc:"–°—Ç–∞–Ω —Å–æ –º–æ–¥–µ—Ä–Ω–∞ –æ–ø—Ä–µ–º–∞ –∏ —É–±–∞–≤ –ø–æ–≥–ª–µ–¥."},
    {title:"–°—Ç–∞–Ω 80m¬≤", price:1200, area:80, location:"–ù–æ–≤–æ –ù–∞—Å–µ–ª–±–∞", images:["images/stan6.jpg","images/stan6-2.jpg"], desc:"–°–≤–µ—Ç–æ–ª –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω —Å—Ç–∞–Ω —Å–æ –≥–æ–ª–µ–º –¥–Ω–µ–≤–µ–Ω –ø—Ä–µ—Å—Ç–æ—ò."}
];

let filteredStans = [...allStans];
let currentPage = 1;
const itemsPerPage = 4;

// –ü—Ä–∏–∫–∞–∂–∏ —Å—Ç–∞–Ω–æ–≤–∏
function displayStans() {
    const container = document.getElementById("stanContainer");
    container.innerHTML = "";
    const start = (currentPage-1)*itemsPerPage;
    const end = start + itemsPerPage;
    filteredStans.slice(start,end).forEach(stan=>{
        const div = document.createElement("div");
        div.className = "stan";
        div.dataset.images = JSON.stringify(stan.images);
        div.dataset.price = stan.price;
        div.dataset.area = stan.area;
        div.dataset.location = stan.location;
        div.innerHTML = `
            <h2>${stan.title}</h2>
            <img src="${stan.images[0]}" alt="${stan.title}">
            <p>–¶–µ–Ω–∞: ${stan.price}‚Ç¨ | –õ–æ–∫–∞—Ü–∏—ò–∞: ${stan.location}</p>
            <p class="short-desc">${stan.desc}</p>
            <button class="details-btn" onclick="openGallery(this)">–ü–æ–≤–µ—ú–µ –¥–µ—Ç–∞–ª–∏</button>
            <a href="https://wa.me/38970123456?text=–ò–Ω—Ç–µ—Ä–µ—Å –∑–∞ ${stan.title}" target="_blank" class="whatsapp-button">üìû WhatsApp</a>
        `;
        container.appendChild(div);
    });
    renderPagination();
}

// Pagination
function renderPagination() {
    const totalPages = Math.ceil(filteredStans.length/itemsPerPage);
    const pagination = document.getElementById("pagination");
    pagination.innerHTML = "";
    for(let i=1;i<=totalPages;i++){
        const btn = document.createElement("button");
        btn.innerText = i;
        if(i===currentPage) btn.classList.add("active");
        btn.onclick = ()=>{ currentPage=i; displayStans(); };
        pagination.appendChild(btn);
    }
}

// –§–∏–ª—Ç–µ—Ä
function applyFilter() {
    const maxPrice = parseFloat(document.getElementById('priceFilter').value) || Infinity;
    const maxArea = parseFloat(document.getElementById('areaFilter').value) || Infinity;
    const location = document.getElementById('locationFilter').value;
    filteredStans = allStans.filter(stan=>{
        return stan.price<=maxPrice && stan.area<=maxArea && (location==="" || stan.location===location);
    });
    currentPage=1;
    displayStans();
}

// –ì–∞–ª–µ—Ä–∏—ò–∞ —Å–æ thumbnails
let currentImages = [];
let currentIndex = 0;
function openGallery(button) {
    const stan = button.closest('.stan');
    currentImages = JSON.parse(stan.dataset.images);
    currentIndex = 0;
    document.getElementById('galleryModal').style.display = "block";
    document.getElementById('modalImage').src = currentImages[currentIndex];
    renderThumbnails();
}

function closeGallery() { 
    document.getElementById('galleryModal').style.display = "none"; 
}

function changeImage(n) {
    currentIndex += n;
    if(currentIndex<0) currentIndex=currentImages.length-1;
    if(currentIndex>=currentImages.length) currentIndex=0;
    document.getElementById('modalImage').src = currentImages[currentIndex];
    highlightThumbnail();
}

// Render thumbnails
function renderThumbnails() {
    const thumbs = document.getElementById('thumbnails');
    thumbs.innerHTML = "";
    currentImages.forEach((src,index)=>{
        const img = document.createElement("img");
        img.src = src;
        img.className = "thumb";
        img.onclick = ()=>{ currentIndex=index; document.getElementById('modalImage').src=currentImages[currentIndex]; highlightThumbnail(); };
        thumbs.appendChild(img);
    });
    highlightThumbnail();
}

function highlightThumbnail() {
    const thumbs = document.querySelectorAll("#thumbnails .thumb");
    thumbs.forEach((img,i)=>{ img.classList.toggle("active-thumb", i===currentIndex); });
}

// –ò–Ω–∏—Ü–∏—ò–∞–ª–Ω–æ –ø—Ä–∏–∫–∞–∂–∏
displayStans();
</script>

</body>
</html>
